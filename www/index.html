<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Dumpy</title>

    <link rel="stylesheet" href="vendor/bootstrap.min.css" />

    <style>
      :root {
        --primary-color: #5e72e4;
        --primary-dark: #4c63d2;
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      }

      body {
        background-color: #f7fafc;
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
      }

      /* Modern navbar */
      .navbar {
        background-color: #fff !important;
        box-shadow: var(--shadow-sm);
        padding: 1rem 0;
        border-bottom: 1px solid #e2e8f0;
      }

      .navbar-brand {
        color: var(--primary-color) !important;
        font-weight: 700;
        font-size: 1.5rem;
        letter-spacing: -0.5px;
      }

      /* Card and panel styling */
      #query-panel {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        box-shadow: var(--shadow-lg);
        border: none;
      }

      #query-panel.card {
        border: 1px solid #e2e8f0;
        border-top: none;
        margin-top: -1px;
        background: #fff;
      }

      .card-body {
        padding: 2rem;
      }

      /* Modern tabs */
      .nav-tabs {
        border-bottom: 1px solid #e2e8f0;
      }

      .nav-tabs .nav-link {
        margin-bottom: -1px;
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        color: #4a5568;
        font-weight: 500;
        padding: 0.75rem 1.5rem;
        transition: all 0.2s ease;
      }

      .nav-tabs .nav-link:hover {
        background: #edf2f7;
        border-color: #cbd5e0;
      }

      .nav-tabs .nav-link.active {
        background-color: #fff;
        border-bottom-color: #fff;
        color: var(--primary-color);
        border-top: 3px solid var(--primary-color);
        margin-top: -2px;
      }

      /* Form elements */
      .form-control,
      .form-select {
        border: 1px solid #e2e8f0;
        border-radius: 0.375rem;
        padding: 0.75rem 1rem;
        font-size: 1rem;
        transition: all 0.2s ease;
      }

      .form-control:focus,
      .form-select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(94, 114, 228, 0.1);
      }

      textarea.form-control {
        min-height: 120px;
        resize: vertical;
      }

      label {
        font-weight: 600;
        color: #2d3748;
        margin-bottom: 0.5rem;
      }

      /* Modern buttons */
      .btn {
        font-weight: 500;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        transition: all 0.2s ease;
      }

      .btn-primary {
        background-color: var(--primary-color);
        border: none;
        box-shadow: var(--shadow-sm);
      }

      .btn-primary:hover {
        background-color: var(--primary-dark);
        transform: translateY(-1px);
        box-shadow: var(--shadow-md);
      }

      .btn-outline-secondary {
        background: #fff;
        border-color: #e2e8f0;
        color: #4a5568;
      }

      .btn-outline-secondary:hover {
        background: #f7fafc;
        border-color: #cbd5e0;
      }

      /* Dropdown improvements */
      .dropdown-menu {
        border: 1px solid #e2e8f0;
        box-shadow: var(--shadow-lg);
        border-radius: 0.375rem;
        padding: 0.5rem 0;
      }

      .dropdown-item {
        padding: 0.5rem 1.5rem;
        color: #4a5568;
        font-weight: 400;
        transition: all 0.2s ease;
      }

      .dropdown-item:hover {
        background: #f7fafc;
        color: var(--primary-color);
      }

      .dropdown-toggle::after {
        margin-left: 0.5rem;
      }

      /* Input groups */
      .input-group {
        position: relative;
      }

      .input-group .dropdown-menu {
        position: absolute;
        top: 100%;
        right: 0;
        z-index: 1050;
      }

      .dropdown-toggle-split {
        min-width: 2.5rem;
      }

      .dropdown-toggle-split::after {
        margin-left: 0;
      }

      /* Spacing improvements */
      .row {
        margin-bottom: 1.5rem;
      }

      .container {
        max-width: 1100px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .card-body {
          padding: 1.5rem;
        }

        .nav-tabs .nav-link {
          padding: 0.5rem 1rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg mb-4">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Dumpy</a>
      </div>
    </nav>

    <div class="container">
      <form role="form" method="post" action="fetch">
        <input
          id="input-timezone-offset"
          type="hidden"
          name="default-timezone-offset"
          value=""
        />
        <input id="query-type" type="hidden" name="query-type" value="filter" />

        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-10">
            <ul class="nav nav-tabs" id="query-tabs" role="tablist">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  data-bs-toggle="tab"
                  href="#pcap-filter-tab"
                  role="tab"
                  query-type="filter"
                  >PCAP Filter</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  data-bs-toggle="tab"
                  href="#event-tab"
                  role="tab"
                  query-type="event"
                  >Event</a
                >
              </li>
            </ul>
            <div id="query-panel" class="card">
              <div class="card-body">
                <div class="tab-content">
                  <div class="tab-pane active" id="pcap-filter-tab">
                    <div class="row">
                      <div class="col-md-12">
                        <textarea
                          id="pcap-filter-input"
                          class="form-control"
                          name="filter"
                          tabindex="1"
                          placeholder="PCAP filter..."
                        ></textarea>
                      </div>
                    </div>
                    <!-- end row-->
                    <br />

                    <div class="row">
                      <div class="col-md-6">
                        <label for="start-time">Start time:</label>

                        <div class="input-group">
                          <input
                            id="start-time"
                            type="text"
                            name="start-time"
                            class="form-control"
                            tabindex="2"
                          />
                          <button
                            type="button"
                            class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            <span class="visually-hidden">Toggle Dropdown</span>
                          </button>
                          <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setStartTime(null, null); return false;"
                                >Now</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setStartTime('minute', 1); return false;"
                                >1 minute ago</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setStartTime('minute', 5); return false;"
                                >5 minutes ago</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setStartTime('minute', 15); return false;"
                                >15 minutes ago</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setStartTime('hour', 1); return false;"
                                >1 hour ago</a
                              >
                            </li>
                          </ul>
                        </div>
                        <br />
                      </div>
                      <div class="col-md-6">
                        <label for="duration">Duration:</label>

                        <div class="input-group">
                          <input
                            id="duration"
                            type="text"
                            name="duration"
                            class="form-control"
                            tabindex="3"
                            value="1m"
                          />
                          <button
                            type="button"
                            class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            <span class="visually-hidden">Toggle Dropdown</span>
                          </button>
                          <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '15s'); return false;"
                                >15 seconds</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '30s'); return false;"
                                >30 seconds</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '1m'); return false;"
                                >1 minute</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '5m'); return false;"
                                >5 minutes</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '15m'); return false;"
                                >15 minutes</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration'), '1h'); return false;"
                                >1 hour</a
                              >
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <!-- end row-->
                  </div>
                  <div class="tab-pane" id="event-tab">
                    <div class="row">
                      <div class="col-md-12">
                        <textarea
                          id="event-input"
                          class="form-control"
                          name="event"
                          tabindex="1"
                          placeholder="Event..."
                        ></textarea>
                      </div>
                    </div>
                    <br />

                    <div class="row">
                      <div class="col-md-6">
                        <label for="duration-before"
                          >Duration before event:</label
                        >

                        <div class="input-group">
                          <input
                            id="duration-before"
                            type="text"
                            name="duration-before"
                            class="form-control"
                            value="1m"
                            tabindex="2"
                          />
                          <button
                            type="button"
                            class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            <span class="visually-hidden">Toggle Dropdown</span>
                          </button>
                          <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-before'), '1s'); return false;"
                                >1 second</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-before'), '1m'); return false;"
                                >1 minute</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-before'), '1h'); return false;"
                                >1 hour</a
                              >
                            </li>
                          </ul>
                        </div>
                        <br />
                      </div>
                      <div class="col-md-6">
                        <label for="duration-after"
                          >Duration after event:</label
                        >

                        <div class="input-group">
                          <input
                            id="duration-after"
                            type="text"
                            name="duration-after"
                            class="form-control"
                            tabindex="3"
                            value="1m"
                          />
                          <button
                            type="button"
                            class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            <span class="visually-hidden">Toggle Dropdown</span>
                          </button>
                          <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-after'), '1s'); return false;"
                                >1 second</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-after'), '1m'); return false;"
                                >1 minute</a
                              >
                            </li>
                            <li>
                              <a
                                class="dropdown-item"
                                href="#"
                                onclick="setElementValue($('#duration-after'), '1h'); return false;"
                                >1 hour</a
                              >
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <!-- end row-->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-1"></div>
        </div>

        <br />

        <div class="row">
          <div class="col-md-1"></div>

          <div class="col-md-5">
            <label for="spool-selector">Spool</label>
            <select
              class="form-select"
              id="spool-selector"
              name="spool"
              tabindex="4"
            >
              <!-- Filled in from dumpy.js. -->
            </select>
          </div>
          <div class="col-md-5">
            <label>&nbsp;</label>
            <button type="submit" class="btn btn-primary w-100" tabindex="5">
              Download
            </button>
          </div>
          <div class="col-md-1"></div>
        </div>
      </form>
    </div>

    <script src="vendor/jquery.min.js"></script>
    <script src="vendor/moment.min.js"></script>
    <script src="vendor/bootstrap.min.js"></script>
    <script src="js/dumpy.js"></script>
  </body>
</html>
